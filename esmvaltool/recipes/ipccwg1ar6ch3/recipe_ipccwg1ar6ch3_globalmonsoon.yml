# ESMValTool
# recipe_ar6ch3_global_monsoon_cmip5+6+amip.yml
---
documentation:

  description: |
    Producing selected figures from IPCC WGI AR6, chap. 3

  authors:
    - kosaka_yu

#  maintainer:
    
  references:
   - acknow_project

  projects:
    - ipcc_ar6

  realms:
    - atmos

  themes:
    - monsoon

  domains:
    - trop
    - midlat

  plot_types:
    - geo
    - times

  statistics:
    - clim
    - anomaly

cmip6: &cmip6
  #- {dataset: ACCESS-CM2, ensemble: r1i1p1f1, grid: gn} # retracted
  - {dataset: ACCESS-CM2, ensemble: r(2:3)i1p1f1, grid: gn}
  #- {dataset: ACCESS-ESM1-5, ensemble: r1i1p1f1, grid: gn} # retracted
  - {dataset: ACCESS-ESM1-5, ensemble: r(2:20)i1p1f1, grid: gn}
  - {dataset: AWI-CM-1-1-MR, ensemble: r(1:5)i1p1f1, grid: gn}
  - {dataset: AWI-ESM-1-1-LR, ensemble: r1i1p1f1, grid: gn}
  - {dataset: BCC-CSM2-MR, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: BCC-ESM1, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: CAMS-CSM1-0, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CAMS-CSM1-0, ensemble: r2i1p1f1, grid: gn}
  - {dataset: CAMS-CSM1-0, ensemble: r1i1p1f2, grid: gn}
  - {dataset: CanESM5-CanOE, ensemble: r(1:3)i1p2f1, grid: gn}
  - {dataset: CanESM5, ensemble: r(1:25)i1p1f1, grid: gn}
  - {dataset: CanESM5, ensemble: r(1:40)i1p2f1, grid: gn}
  - {dataset: CAS-ESM2-0, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CESM2, ensemble: r(1:11)i1p1f1, grid: gn}
  - {dataset: CESM2-FV2, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: CESM2-WACCM, ensemble: r(1:3)i1p1f1, grid: gn}
  #- {dataset: CESM2-WACCM-FV2, ensemble: r2i1p1f1, grid: gn}
  - {dataset: CESM2-WACCM-FV2, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CESM2-WACCM-FV2, ensemble: r3i1p1f1, grid: gn}
  #- {dataset: CIESM, ensemble: r(1:3)i1p1f1, grid: gr}
  - {dataset: CMCC-CM2-HR4, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CMCC-CM2-SR5, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CMCC-ESM2, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CNRM-CM6-1, ensemble: r(1:22)i1p1f2, grid: gr}
  #- {dataset: CNRM-CM6-1, ensemble: r23i1p1f2, grid: gr} #missing
  - {dataset: CNRM-CM6-1, ensemble: r(24:30)i1p1f2, grid: gr}
  - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2, grid: gr}
  - {dataset: CNRM-ESM2-1, ensemble: r(1:5)i1p1f2, grid: gr}
  - {dataset: CNRM-ESM2-1, ensemble: r(7:11)i1p1f2, grid: gr}
  - {dataset: E3SM-1-0, ensemble: r(1:5)i1p1f1, grid: gr}
  - {dataset: E3SM-1-1-ECA, ensemble: r1i1p1f1, grid: gr}
  - {dataset: E3SM-1-1, ensemble: r1i1p1f1, grid: gr}
  - {dataset: EC-Earth3-AerChem, ensemble: r1i1p1f1, grid: gr}
  - {dataset: EC-Earth3-AerChem, ensemble: r4i1p1f1, grid: gr}
  - {dataset: EC-Earth3-CC, ensemble: r1i1p1f1, grid: gr}
  # - {dataset: EC-Earth3, ensemble: r(101:150)i1p1f1, grid: gr} # not all years
  - {dataset: EC-Earth3, ensemble: r(1:2)i1p1f1, grid: gr}
  #- {dataset: EC-Earth3, ensemble: r3i1p1f1, grid: gr}
  - {dataset: EC-Earth3, ensemble: r4i1p1f1, grid: gr}
  - {dataset: EC-Earth3, ensemble: r(6:7)i1p1f1, grid: gr}
  - {dataset: EC-Earth3, ensemble: r(9:25)i1p1f1, grid: gr}
  - {dataset: EC-Earth3-Veg, ensemble: r(2:3)i1p1f1, grid: gr}
  - {dataset: EC-Earth3-Veg, ensemble: r(5:6)i1p1f1, grid: gr}
  # - {dataset: EC-Earth3-Veg, ensemble: r10i1p1f1, grid: gr} # not all years
  - {dataset: EC-Earth3-Veg, ensemble: r12i1p1f1, grid: gr}
  - {dataset: EC-Earth3-Veg, ensemble: r14i1p1f1, grid: gr}
  - {dataset: EC-Earth3-Veg-LR, ensemble: r(1:3)i1p1f1, grid: gr}
  - {dataset: FGOALS-f3-L, ensemble: r(1:3)i1p1f1, grid: gr}
  - {dataset: FGOALS-g3, ensemble: r(1:6)i1p1f1, grid: gn}
  # - {dataset: FIO-ESM-2-0, ensemble: r(1:3)i1p1f1, grid: gn} # preproc failing
  - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1}
  - {dataset: GFDL-ESM4, ensemble: r(1:3)i1p1f1, grid: gr1}
  - {dataset: GISS-E2-1-G-CC, ensemble: r1i1p1f1, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(1:11)i1p1f2, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(1:6)i1p3f1, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(8:10)i1p3f1, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(1:4)i1p5f1, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(6:10)i1p5f1, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(1:10)i1p1f1, grid: gn}
  - {dataset: GISS-E2-1-G, ensemble: r(101:102)i1p1f1, grid: gn}
  - {dataset: GISS-E2-1-H, ensemble: r(1:10)i1p1f1, grid: gn}
  - {dataset: GISS-E2-1-H, ensemble: r(1:5)i1p1f2, grid: gn}
  - {dataset: GISS-E2-1-H, ensemble: r(3:5)i1p3f1, grid: gn}
  - {dataset: GISS-E2-1-H, ensemble: r(1:5)i1p5f1, grid: gn}
  - {dataset: HadGEM3-GC31-LL, ensemble: r(1:4)i1p1f3, grid: gn}
  - {dataset: HadGEM3-GC31-MM, ensemble: r(1:3)i1p1f3, grid: gn}
  - {dataset: IITM-ESM, ensemble: r1i1p1f1, grid: gn}
  - {dataset: INM-CM4-8, ensemble: r1i1p1f1, grid: gr1}
  - {dataset: INM-CM5-0, ensemble: r(1:8)i1p1f1, grid: gr1}
  #- {dataset: INM-CM5-0, ensemble: r9i1p1f1, grid: gr1} #concatenation issue
  - {dataset: INM-CM5-0, ensemble: r10i1p1f1, grid: gr1}
  - {dataset: IPSL-CM5A2-INCA, ensemble: r1i1p1f1, grid: gr}
  - {dataset: IPSL-CM6A-LR, ensemble: r(1:32)i1p1f1, grid: gr}
  - {dataset: KACE-1-0-G, ensemble: r(1:3)i1p1f1, grid: gr}
  #- {dataset: MCM-UA-1-0, ensemble: r1i1p1f1, grid: gn}
  #- {dataset: MCM-UA-1-0, ensemble: r1i1p1f2, grid: gn}
  - {dataset: MIROC6, ensemble: r(1:50)i1p1f1, grid: gn}
  - {dataset: MIROC-ES2L, ensemble: r(1:10)i1p1f2, grid: gn}
  - {dataset: MPI-ESM-1-2-HAM, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: MPI-ESM1-2-HR, ensemble: r(1:10)i1p1f1, grid: gn}
  - {dataset: MPI-ESM1-2-LR, ensemble: r(1:10)i1p1f1, grid: gn}
  - {dataset: MRI-ESM2-0, ensemble: r1i1000p1f1, grid: gn}
  - {dataset: MRI-ESM2-0, ensemble: r(2:5)i1p1f1, grid: gn}
  - {dataset: NESM3, ensemble: r(1:5)i1p1f1, grid: gn}
  - {dataset: NorCPM1, ensemble: r(1:4)i1p1f1, grid: gn}  
  #- {dataset: NorCPM1, ensemble: r5i1p1f1, grid: gn}
  - {dataset: NorCPM1, ensemble: r(6:30)i1p1f1, grid: gn}
  - {dataset: NorESM2-LM, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: NorESM2-MM, ensemble: r(1:2)i1p1f1, grid: gn}
  - {dataset: SAM0-UNICON, ensemble: r1i1p1f1, grid: gn}
  - {dataset: TaiESM1, ensemble: r1i1p1f1, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r(1:4)i1p1f2, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r(8:12)i1p1f2, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r14i1p1f2, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r(16:19)i1p1f2, grid: gn}
  - {dataset: UKESM1-0-LL, ensemble: r(5:7)i1p1f3, grid: gn}

amip: &amip
  - {dataset: BCC-CSM2-MR, ensemble: r1i1p1f1, grid: gn}
  - {dataset: CAMS-CSM1-0, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: CanESM5, ensemble: r(1:10)i1p2f1, grid: gn}
  - {dataset: CESM2, ensemble: r(1:3)i1p1f1, grid: gn}
  - {dataset: CNRM-CM6-1, ensemble: r(1:10)i1p1f2, grid: gr}
  - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gr}
  - {dataset: FGOALS-f3-L, ensemble: r(1:3)i1p1f1, grid: gr}
  #- {dataset: FIO-ESM-2-0, ensemble: r(1:3)i1p1f1, grid: gn} # preproc failure
  - {dataset: GFDL-CM4, ensemble: r(2:3)i1p1f1, grid: gr1}
  - {dataset: IPSL-CM6A-LR, ensemble: r(1:20)i1p1f1, grid: gr}
  - {dataset: MIROC6, ensemble: r(1:5)i1p1f1, grid: gn}
  - {dataset: MRI-ESM2-0, ensemble: r(1:3)i1p1f1, grid: gn}
  
cmip5: &cmip5
  - {dataset: ACCESS1-0, ensemble: r1i1p1}
  #- {dataset: ACCESS1-3, ensemble: r1i1p1} #No RCP4.5 ua
  #- {dataset: BNU-ESM, ensemble: r1i1p1} #No RCP4.5 ua
  #- {dataset: CanCM4, ensemble: r(1:10)i1p1} #since 1961
  - {dataset: CanESM2, ensemble: r(1:5)i1p1}
  - {dataset: CCSM4, ensemble: r(1:5)i1p1}
  #- {dataset: CCSM4, ensemble: r6i1p1} " preprocessor failure
  #- {dataset: CESM1-BGC, ensemble: r1i1p1} no RCP4.5 ua
  #- {dataset: CESM1-CAM5-1-FV2, ensemble: r1i1p1} # preprocessor failure
  #- {dataset: CESM1-CAM5, ensemble: r1i1p1} # no RCP4.5 ua
  - {dataset: CESM1-CAM5, ensemble: r(2:3)i1p1}
  #- {dataset: CESM1-FASTCHEM, ensemble: r1i1p1} # No RCP4.5
  #- {dataset: CESM1-WACCM, ensemble: r(1:4)i1p1}  # No RCP4.5
  #- {dataset: CMCC-CESM, ensemble: r1i1p1}  # No RCP4.5
  #- {dataset: CMCC-CM, ensemble: r1i1p1} # No RCP4.5 ua
  #- {dataset: CMCC-CMS, ensemble: r1i1p1} # No RCP4.5 ua
  #- {dataset: CNRM-CM5-2, ensemble: r1i1p1} # No RCP4.5
  - {dataset: CNRM-CM5, ensemble: r1i1p1}
  - {dataset: CSIRO-Mk3-6-0, ensemble: r(1:10)i1p1}
  - {dataset: CSIRO-Mk3L-1-2, ensemble: r1i2p1}
  #- {dataset: EC-EARTH, ensemble: r(1:3)i1p1} # no ua
  #- {dataset: EC-EARTH, ensemble: r(6:9)i1p1} # ua 1933-1949 missing
  #- {dataset: EC-EARTH, ensemble: r(11:14)i1p1} # no ua
  #- {dataset: FGOALS-g2, ensemble: r1i1p1, start_year: 1900} # ua since 1900 only
  - {dataset: FGOALS-s2, ensemble: r(1:3)i1p1}
  #- {dataset: FIO-ESM, ensemble: r1i1p1} ua No RCP4.5
  - {dataset: FIO-ESM, ensemble: r(2:3)i1p1}
  - {dataset: GFDL-CM2p1, ensemble: r(1:10)i1p1}
  - {dataset: GFDL-CM3, ensemble: r1i1p1}
  - {dataset: GFDL-ESM2G, ensemble: r1i1p1}
  - {dataset: GFDL-ESM2M, ensemble: r1i1p1}
  #- {dataset: GISS-E2-H-CC, ensemble: r1i1p1} # no RCP4.5 ua
  #- {dataset: GISS-E2-H, ensemble: r1i1p1} No RCP4.5 ua
  - {dataset: GISS-E2-H, ensemble: r(1:5)i1p2}
  - {dataset: GISS-E2-H, ensemble: r(1:5)i1p3}
  - {dataset: GISS-E2-H, ensemble: r(2:5)i1p1}
  #- {dataset: GISS-E2-H, ensemble: r6i1p3} # preprocessor failure
  #- {dataset: GISS-E2-R-CC, ensemble: r1i1p1} # no RCP4.5 ua
  - {dataset: GISS-E2-R, ensemble: r(1:6)i1p1} 
  - {dataset: GISS-E2-R, ensemble: r(1:5)i1p2}
  #- {dataset: GISS-E2-R, ensemble: r1i1p3} # preprocessor failure
  #- {dataset: GISS-E2-R, ensemble: r2i1p3} # preprocessor failure
  #- {dataset: GISS-E2-R, ensemble: r3i1p3} # preprocessor failure
  - {dataset: GISS-E2-R, ensemble: r(4:5)i1p3}
  #- {dataset: GISS-E2-R, ensemble: r6i1p3} # preprocessor failure
  - {dataset: HadCM3, ensemble: r(1:10)i1p1}
  #- {dataset: HadGEM2-AO, ensemble: r1i1p1} # no RCP4.5 ua
  - {dataset: HadGEM2-CC, ensemble: r1i1p1}
  - {dataset: HadGEM2-ES, ensemble: r1i1p1}
  #- {dataset: HadGEM2-ES, ensemble: r2i1p1} #overlap
  #- {dataset: HadGEM2-ES, ensemble: r3i1p1} #overlap
  - {dataset: HadGEM2-ES, ensemble: r4i1p1}
  - {dataset: IPSL-CM5A-LR, ensemble: r(1:4)i1p1}
  - {dataset: IPSL-CM5A-MR, ensemble: r1i1p1}
  #- {dataset: IPSL-CM5B-LR, ensemble: r1i1p1} "no RCP4.5 ua
  #- {dataset: MIROC4h, ensemble: r1i1p1} #since 1950
  #- {dataset: MIROC4h, ensemble: r2i1p1} #since 1950
  #- {dataset: MIROC4h, ensemble: r3i1p1} #since 1950
  #- {dataset: MIROC5, ensemble: r1i1p1} #overlap
  #- {dataset: MIROC5, ensemble: r2i1p1} #overlap
  #- {dataset: MIROC5, ensemble: r3i1p1} #overlap
  #- {dataset: MIROC5, ensemble: r4i1p1} #overlap
  #- {dataset: MIROC5, ensemble: r5i1p1} #overlap
  - {dataset: MIROC-ESM, ensemble: r1i1p1}
  - {dataset: MIROC-ESM-CHEM, ensemble: r1i1p1}
  - {dataset: MPI-ESM-LR, ensemble: r(1:3)i1p1}
  #- {dataset: MPI-ESM-MR, ensemble: r1i1p1} # no RCP4.5 ua
  - {dataset: MPI-ESM-MR, ensemble: r(2:3)i1p1}
  #- {dataset: MPI-ESM-P, ensemble: r1i1p1} # No RCP4.5
  #- {dataset: MPI-ESM-P, ensemble: r2i1p1} # No RCP4.5
  - {dataset: MRI-CGCM3, ensemble: r1i1p1}
  #- {dataset: MRI-CGCM3, ensemble: r2i1p1} # no RCP4.5
  #- {dataset: MRI-CGCM3, ensemble: r3i1p1} # no RCP4.5
  #- {dataset: MRI-CGCM3, ensemble: r4i1p1} # no RCP4.5
  #- {dataset: MRI-CGCM3, ensemble: r5i1p1} # no RCP4.5
  - {dataset: NorESM1-M, ensemble: r1i1p1}
  - {dataset: NorESM1-ME, ensemble: r1i1p1}
  - {dataset: bcc-csm1-1, ensemble: r1i1p1}
  #- {dataset: bcc-csm1-1-m, ensemble: r1i1p1} # no RCP4.5 ua
  - {dataset: inmcm4, ensemble: r1i1p1}

preprocessors:

  pp:
    regrid:
      target_grid: 2.5x2.5
      scheme: linear

  pp_land:
    regrid:
      target_grid: 0.5x0.5
      scheme: linear
    mask_landsea:
      mask_out: sea
      
  ppsfc:
    regrid:
      target_grid: 2.5x2.5
      scheme: linear

  pp850+200:
    extract_levels:
      levels: [85000, 20000]
      scheme: linear
    regrid:
      target_grid: 2.5x2.5
      scheme: linear

diagnostics:

  global_monsoon_obs:
    description: define monsoon domain and calculate intensity index
    variables:
      pr:
        preprocessor: pp
        mip: Amon
        frequency: mon
        start_year: 1979
        end_year: 2014
        additional_datasets:
          - {dataset: GPCP-SG, project: obs4mips, level: L3, version: v2.3, 
             start_year: 1979, end_year: 2017, tier: 2}
          - {dataset: CMAP, project: OBS, type: satellite, version: V2005, 
             start_year: 1979, end_year: 2019, tier: 2}
      ua:
        preprocessor: pp850+200
        mip: Amon
        frequency: mon
        start_year: 1958
        end_year: 2014
        additional_datasets:
          - {dataset: ERA5, project: OBS, type: reanaly, version: 1, tier: 3,
             start_year: 1979, end_year: 2018}
          - {dataset: JRA-55, project: OBS, type: reanaly, version: 1, tier: 3,
             start_year: 1958, end_year: 2019}
          - {dataset: MERRA2, project: ana4mips, type: reanalysis, version: 1, tier: 2,
             start_year: 1980, end_year: 2014}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "001", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "002", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "003", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "004", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "005", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "006", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "007", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "008", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "009", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "010", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "011", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "012", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "013", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "014", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "015", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "016", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "017", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "018", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "019", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "020", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "021", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "022", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "023", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "024", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "025", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "026", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "027", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "028", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "029", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "030", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "031", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "032", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "033", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "034", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "035", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "036", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "037", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "038", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "039", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "040", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "041", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "042", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "043", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "044", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "045", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "046", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "047", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "048", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "049", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "050", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "051", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "052", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "053", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "054", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "055", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "056", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "057", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "058", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "059", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "060", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "061", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "062", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "063", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "064", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "065", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "066", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "067", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "068", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "069", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "070", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "071", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "072", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "073", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "074", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "075", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "076", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "077", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "078", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "079", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: 20CRv3, project: OBS, type: reanaly, version: "080", tier: 2,
             start_year: 1870, end_year: 2015}
          - {dataset: ERA-20C, project: OBS, type: reanaly, version: 1, tier: 3,
             start_year: 1900, end_year: 2010}
      va:
        preprocessor: pp850+200
        mip: Amon
        frequency: mon
        start_year: 1979
        end_year: 2014
        additional_datasets:
          - {dataset: ERA5, project: OBS, type: reanaly, version: 1, tier: 3,
             start_year: 1979, end_year: 2014}
    scripts:
      monsoon_domain_intensity: &monsoon_domain_intensity
        script: ar6ch3_monsoon/monsoon_domain_intensity.ncl
        syear_clim: 1979
        eyear_clim: 2014
        smonth_NHsummer: 5
        emonth_NHsummer: 9
        smonth_SHsummer: 11
        emonth_SHsummer: 3

  global_monsoon_cmip5:
    description: define monsoon domain and calculate intensity index
    variables:
      ua:
        preprocessor: pp850+200
        project: CMIP5
        mip: Amon
        frequency: mon
        exp: [historical, rcp45]
        start_year: 1870
        end_year: 2014
        additional_datasets: *cmip5
    scripts:
      monsoon_domain_intensity:
        <<: *monsoon_domain_intensity

  global_monsoon_cmip6:
    description: define monsoon domain and calculate intensity index
    variables:
      pr:
        preprocessor: pp
        project: CMIP6
        mip: Amon
        frequency: mon
        exp: historical
        start_year: 1979
        end_year: 2014
        additional_datasets: *cmip6
      ua:
        preprocessor: pp850+200
        project: CMIP6
        mip: Amon
        frequency: mon
        exp: historical
        start_year: 1870
        end_year: 2014
        additional_datasets: *cmip6
      va:
        preprocessor: pp850+200
        project: CMIP6
        mip: Amon
        frequency: mon
        exp: historical
        start_year: 1979
        end_year: 2014
        additional_datasets: *cmip6
    scripts:
      monsoon_domain_intensity:
        <<: *monsoon_domain_intensity

  global_monsoon_amip:
    description: define monsoon domain and calculate intensity index
    variables:
      ua:
        preprocessor: pp850+200
        project: CMIP6
        mip: Amon
        frequency: mon
        exp: amip-hist
        start_year: 1870
        end_year: 2014
        additional_datasets: *amip
    scripts:
      monsoon_domain_intensity:
        <<: *monsoon_domain_intensity

  global_landmonsoon_obs:
    description: define monsoon domain and calculate intensity index
    variables:
      pr:
        preprocessor: pp_land
        mip: Amon
        frequency: mon
        start_year: 1870
        end_year: 2014
        additional_datasets:
          - {dataset: GPCP-SG, project: obs4mips, level: L3, version: v2.3, 
             start_year: 1979, end_year: 2017, tier: 2}
          - {dataset: CMAP, project: OBS, type: satellite, version: V2005, 
             start_year: 1979, end_year: 2019, tier: 2}
          - {dataset: GPCC, project: OBS, type: insitu, version: v2018, 
             start_year: 1891, end_year: 2016, tier: 2}
          - {dataset: CRU-TS, project: OBS, type: insitu, version: 4.02, 
             start_year: 1901, end_year: 2016, tier: 3}
    scripts:
      monsoon_domain_intensity: 
        <<: *monsoon_domain_intensity

  global_landmonsoon_cmip5:
    description: define monsoon domain and calculate intensity index
    variables:
      pr:
        preprocessor: pp_land
        project: CMIP5
        mip: Amon
        frequency: mon
        exp: [historical, rcp45]
        start_year: 1870
        end_year: 2014
        additional_datasets: *cmip5
    scripts:
      monsoon_domain_intensity: 
        <<: *monsoon_domain_intensity

  global_landmonsoon_cmip6:
    description: define monsoon domain and calculate intensity index
    variables:
      pr:
        preprocessor: pp_land
        project: CMIP6
        mip: Amon
        frequency: mon
        exp: historical
        start_year: 1870
        end_year: 2014
        additional_datasets: *cmip6
    scripts:
      monsoon_domain_intensity: 
        <<: *monsoon_domain_intensity

  global_landmonsoon_amip:
    description: define monsoon domain and calculate intensity index
    variables:
      pr:
        preprocessor: pp_land
        project: CMIP6
        mip: Amon
        frequency: mon
        exp: amip-hist
        start_year: 1870
        end_year: 2014
        additional_datasets: *amip
    scripts:
      monsoon_domain_intensity: 
        <<: *monsoon_domain_intensity
        
  draw_global_monsoon_cmip5+6:
    description: Wrapper to collect and plot figures
    scripts:
      plot_global_monsoon_runmean5yr:
        script: ar6ch3_monsoon/draw_global_monsoon.ncl
        diagnostic_map: [global_monsoon_obs/monsoon_domain_intensity,
                         global_monsoon_cmip6/monsoon_domain_intensity]
        scale_precip_map_ann: True
        dataset_obs_pr_map: GPCP-SG
        dataset_obs_uv_map: ERA5
        project_map: CMIP6
        moving_ave: 5
        diagnostic_precip: [global_landmonsoon_obs/monsoon_domain_intensity,
                            global_landmonsoon_cmip5/monsoon_domain_intensity,
                            global_landmonsoon_cmip6/monsoon_domain_intensity,
                            global_landmonsoon_amip/monsoon_domain_intensity]
        diagnostic_circulation: [global_monsoon_obs/monsoon_domain_intensity,
                                 global_monsoon_cmip5/monsoon_domain_intensity,
                                 global_monsoon_cmip6/monsoon_domain_intensity,
                                 global_monsoon_amip/monsoon_domain_intensity]
        ancestors: ['global_monsoon_obs/monsoon_domain_intensity',
                    'global_monsoon_cmip5/monsoon_domain_intensity',
                    'global_monsoon_cmip6/monsoon_domain_intensity',
                    'global_monsoon_amip/monsoon_domain_intensity',
                    'global_landmonsoon_obs/monsoon_domain_intensity',
                    'global_landmonsoon_cmip5/monsoon_domain_intensity',
                    'global_landmonsoon_cmip6/monsoon_domain_intensity',
                    'global_landmonsoon_amip/monsoon_domain_intensity']

