# ESMValTool
# recipe_ipccwg1ar6ch3.yml
---
documentation:

  description: |
    Producing selected figures from IPCC WGI AR6, chap. 3

  authors:
    - bock_lisa
    - eyring_veronika

#  maintainer:
    
  references:
    - flato13ipcc

  projects:
    - ipcc_ar6


preprocessors:

  clim_5x5:
    regrid:
      target_grid: 5x5
      scheme: linear


diagnostics:

  # **********************************************************************
  # IPCC WGI AR6, chap. 3
  # Sect. 3.3 
  # Fig 3.4 (ZOD fig. 3.11)
  # similar to fig. IPCC AR5, chap. 9, 9.33
  # Lisa
  # **********************************************************************
  # Global climate variability - surface temperature
  # **********************************************************************

  fig_3_4:
    description: IPCC AR5 Ch. 9, Fig. 9.33 (near-surface temperature)
    variables:
      tas:
        preprocessor: clim_5x5
        mip: Amon
        project: CMIP6
        exp: piControl
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
          - {dataset: AWI-CM-1-1-MR, grid: gn, start_year: 2401, end_year: 2600}
          - {dataset: BCC-CSM2-MR, grid: gn, start_year: 1850, end_year: 2049}
          - {dataset: BCC-ESM1, grid: gn, start_year: 1850, end_year: 2049}
          - {dataset: CAMS-CSM1-0, grid: gn, start_year: 2900, end_year: 3099}
          - {dataset: CanESM5, grid: gn, start_year: 5201, end_year: 5400}
          - {dataset: CESM2, grid: gn, start_year: 1, end_year: 200}
          - {dataset: CESM2-WACCM, institute: NCAR, grid: gn, start_year: 1, end_year: 200}
          - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, start_year: 1850, end_year: 2049}
          - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, start_year: 1850, end_year: 2049}
          - {dataset: E3SM-1-0, start_year: 1, end_year: 200}
          - {dataset: E3SM-1-1, institute: E3SM-Project, start_year: 1850, end_year: 2014}
          - {dataset: EC-Earth3, start_year: 2259, end_year: 2458}
          #- {dataset: EC-Earth3-LR, only one year available
          - {dataset: EC-Earth3-Veg, start_year: 1850, end_year: 2049}
          - {dataset: FGOALS-f3-L, start_year: 600, end_year: 799}
          - {dataset: FGOALS-g3, grid: gn, start_year: 200, end_year: 399}
          - {dataset: FIO-ESM-2-0, grid: gn, start_year: 301, end_year: 500}
          - {dataset: GFDL-CM4, grid: gr1, start_year: 151, end_year: 350}
          - {dataset: GFDL-ESM4, grid: gr1, start_year: 151, end_year: 350}
          - {dataset: GISS-E2-1-G, grid: gn, start_year: 4150, end_year: 4349}
          - {dataset: GISS-E2-1-G-CC, institute: NASA-GISS, grid: gn, start_year: 1850, end_year: 2014}
          - {dataset: GISS-E2-1-H, grid: gn, start_year: 3180, end_year: 3379}
          - {dataset: HadGEM3-GC31-LL, grid: gn, start_year: 1850, end_year: 2049}
          - {dataset: HadGEM3-GC31-MM, grid: gn, start_year: 1850, end_year: 2049}
          #- {dataset: IITM-ESM, no data available
          - {dataset: INM-CM4-8, grid: gr1, start_year: 1850, end_year: 2049}
          - {dataset: IPSL-CM6A-LR, start_year: 1850, end_year: 2049}
          #- {dataset: MCM-UA-1-0, grid: gn, start_year: 1, end_year: 200} fix needed
          - {dataset: MIROC6, grid: gn, start_year: 3200, end_year: 3399}
          - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 2049}
          - {dataset: MPI-ESM1-2-HR, grid: gn, start_year: 1850, end_year: 2049}
          - {dataset: MRI-ESM2-0, grid: gn, start_year: 1850, end_year: 2049}
          - {dataset: NESM3, grid: gn, start_year: 500, end_year: 699}
          - {dataset: NorCPM1, institute: NCC, grid: gn, start_year: 1, end_year: 200}
          - {dataset: NorESM1-F, institute: NCC, grid: gn, start_year: 1501, end_year: 1700}
          - {dataset: NorESM2-LM, institute: NCC, grid: gn, start_year: 1600, end_year: 1799}
          - {dataset: SAM0-UNICON, grid: gn, start_year: 1, end_year: 200}
          - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, start_year: 1960, end_year: 2159}
          - {dataset: HadCRUT4, project: OBS, type: ground, version: 1, start_year: 1850, end_year: 1900, tier: 2}
          - {dataset: BerkeleyEarth, project: OBS, type: ground, version: 1, start_year: 1850, end_year: 1900, tier: 2}
      tasa:
        preprocessor: clim_5x5
        mip: Amon
        project: CMIP6
        exp: piControl
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
          - {dataset: GISTEMP, project: OBS, type: ground, version: v4, start_year: 1880, end_year: 1900, tier: 2}
          - {dataset: CowtanWay, project: OBS, type: median, version: version2.0, start_year: 1850, end_year: 1900, tier: 2}
    scripts:
      fig09-33a:
        script: ipcc_ar6/zonal_st_dev.ncl
        multi_model_mean: False
        time_avg: "yearly"
        plot_units: "degC"
        # Plot style
        styleset: CMIP6

