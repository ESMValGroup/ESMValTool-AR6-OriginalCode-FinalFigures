# ESMValTool
# recipe_ipccwg1ar6ch3.yml
---
documentation:

  description: |
    Producing selected figures from IPCC WGI AR6, chap. 3

  authors:
    - bock_lisa
    - eyring_veronika

#  maintainer:
    
  references:
    - flato13ipcc

  projects:
    - ipcc_ar6


preprocessors:

  clim_5x5:
    regrid:
      target_grid: 5x5
      scheme: linear


diagnostics:

  # **********************************************************************
  # IPCC WGI AR6, chap. 3
  # Sect. 3.3 
  # Fig 3.4 (ZOD fig. 3.11)
  # similar to fig. IPCC AR5, chap. 9, 9.33
  # Lisa
  # **********************************************************************
  # Global climate variability - surface temperature
  # **********************************************************************

  fig_3_4:
    description: IPCC AR5 Ch. 9, Fig. 9.33 (near-surface temperature)
    variables:
      tas:
        preprocessor: clim_5x5
        mip: Amon
        project: CMIP6
        exp: piControl
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
          - {dataset: BCC-CSM2-MR, grid: gn, start_year: 1850, end_year: 2449}
          - {dataset: BCC-ESM1, grid: gn, start_year: 1850, end_year: 2300}
          - {dataset: CAMS-CSM1-0, grid: gn, start_year: 2900, end_year: 3399}
          - {dataset: CanESM5, grid: gn, start_year: 5201, end_year: 6000}
          - {dataset: CESM2, grid: gn, start_year: 1, end_year: 1200}
          - {dataset: CESM2-WACCM, institute: NCAR, grid: gn, start_year: 1, end_year: 499}
          - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, start_year: 1850, end_year: 2349}
          - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, start_year: 1850, end_year: 2349}
          - {dataset: E3SM-1-0, start_year: 1, end_year: 500}
          - {dataset: EC-Earth3, start_year: 2259, end_year: 2759}
          - {dataset: EC-Earth3-Veg, start_year: 1850, end_year: 2349}
          - {dataset: FIO-ESM-2-0, grid: gn, start_year: 301, end_year: 875}
          - {dataset: GFDL-CM4, grid: gr1, start_year: 151, end_year: 650}
          - {dataset: GFDL-ESM4, grid: gr1, start_year: 151, end_year: 500}
          - {dataset: GISS-E2-1-G, grid: gn, start_year: 4150, end_year: 5000}
          - {dataset: GISS-E2-1-G-CC, institute: NASA-GISS, grid: gn, start_year: 1850, end_year: 2014}
          - {dataset: GISS-E2-1-H, grid: gn, start_year: 3180, end_year: 3580}
          - {dataset: HadGEM3-GC31-LL, grid: gn, start_year: 1850, end_year: 2349}
          - {dataset: HadGEM3-GC31-MM, grid: gn, start_year: 1850, end_year: 2349}
          - {dataset: IPSL-CM6A-LR, start_year: 1850, end_year: 2349}
          - {dataset: MIROC6, grid: gn, start_year: 3200, end_year: 3999}
          - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 2349}
          - {dataset: MPI-ESM1-2-HR, grid: gn, start_year: 1850, end_year: 2349}
          - {dataset: MRI-ESM2-0, grid: gn, start_year: 1850, end_year: 2550}
          - {dataset: NESM3, grid: gn, start_year: 500, end_year: 699}
          - {dataset: NorESM1-F, institute: NCC, grid: gn, start_year: 1501, end_year: 1700}
          - {dataset: SAM0-UNICON, grid: gn, start_year: 1, end_year: 700}
          - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, start_year: 1960, end_year: 2709}
          - {dataset: HadCRUT4, project: OBS, type: ground, version: 1, start_year: 1850, end_year: 1900, tier: 2}
          - {dataset: BerkeleyEarth, project: OBS, type: ground, version: 1, start_year: 1850, end_year: 1900, tier: 2}
      tasa:
        preprocessor: clim_5x5
        mip: Amon
        project: CMIP6
        exp: piControl
        ensemble: r1i1p1f1
        grid: gr
        additional_datasets:
          - {dataset: GISTEMP, project: OBS, type: ground, version: v4, start_year: 1880, end_year: 1900, tier: 2}
          - {dataset: CowtanWay, project: OBS, type: median, version: version2.0, start_year: 1850, end_year: 1900, tier: 2}
    scripts:
      fig09-33a:
        script: ipcc_ar6/zonal_st_dev.ncl
        multi_model_mean: False
        time_avg: "yearly"
        plot_units: "degC"
        # Plot style
        styleset: CMIP6

